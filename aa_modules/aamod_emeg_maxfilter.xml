<aap>
	<tasksettings>
		<aamod_emeg_maxfilter domain='session' desc='Run maxfilter' modality='meg'>		
			<InputFilter desc='Filter for files to process (regular expression)' help='(BLOCK will be replaced with appropriate block name)' ui='text'>^.*BLOCK.*_raw\.fif$</InputFilter> 
			<UseSSS desc='Use signal space seperation?' ui='yesno'>1</UseSSS>
			<AutoBad dependency='UseSSS' onlyif='1' desc='# initial 1s tags for bad channel detection (1=all)' help='Will fail while continuous HPI monitoring is on; not needed if using MaxST; if 1 then each tag will be processed sequentially; if >1 then this many tags from beginning of file will be processed.' ui='int'>1</AutoBad>
			<L_in dependency='UseSSS' onlyif='1' desc='Inner expansion order (5-11)' ui='int' help='8 is NeuroMag default; higher values give a more accurate model but are more sensitive to calibration errors; See Nenonen 2007 and Taulu 2005'>8</L_in>
			<L_out dependency='UseSSS' onlyif='1' desc='Outer expansion order (1-5)' ui='int' help='3 is NeuroMag default; higher values may give better close noise cancellation but worse far noise cancellation. See Nenonen 2007 and Taulu 2005'>3</L_out>
			<CrosstalkFile dependency='UseSSS' onlyif='1' desc='Crosstalk correction file' ui='file'>/neuro/databases/ctc/ct_sparse.fif</CrosstalkFile>
			<CalibrationFile dependency='UseSSS' onlyif='1' desc='Fine calibration file' help='' ui='file'>/neuro/databases/sss/sss_cal.dat</CalibrationFile>
			<UseMaxST dependency='UseSSS' onlyif='1' desc='Use MaxST?' ui='yesno'>1</UseMaxST>
			<MaxST_window dependency='UseMaxST' onlyif='1' desc='MaxST window (seconds)' help='' ui='int'>10</MaxST_window>
			<MaxST_corr dependency='UseMaxST' onlyif='1' desc='MaxST correlation threshold' help='MaxFilter default is 0.98, but see Medvedovsky et al. 2008' ui='double'>0.90</MaxST_corr>
			<MaxMoveMethod dependency='UseSSS' onlyif='1' desc='MaxMove transformation method' ui='To first block of first subject_To first block of each subject_Neuromag default (head sphere fit centre to device origin)_Neuromag default (head sphere fit centre to optimal SSS origin)_Specify target fiff file_None'>4</MaxMoveMethod>			
			<MaxMoveTarget dependency='MaxMoveMethod' onlyif='5' desc='Target fif file for MaxMove' ui='file'></MaxMoveTarget>
			<UseMoveComp dependency='UseSSS' onlyif='1' desc='Apply continuous movement compensation?' help='' ui='yesno'>0</UseMoveComp>
			<DownSampleFactor desc='Down sampling factor (1-4)' help='' ui='int'>4</DownSampleFactor>
			<Overwrite desc='Overwrite?' ui='yesno'>1</Overwrite>
		</aamod_emeg_maxfilter>
	</tasksettings>
</aap>

